gl---
title: "Project proposal"
author: "MEG"
output: github_document
---

```{r load-packages, message = FALSE}
library(tidyverse)
library(broom)
library(readr)
library(ggridges)
library(ggplot2)
library(usmap)
library(dplyr)
```

## 1. Introduction
 How does time, place, and gender affect the distribution of racial violence in the American South? This specific data set comes from The Burnham-Nobles Archive from The Civil Rights & Restorative Justice Project at Northeastern University School of Law. The Archive focuses on victims of anti-black violence. The project seeks to contextualize the history of anti-black violence in the United States. The Burnham-Nobles Archive has been working to collect reports for over 15 years and keep collecting. The victims_incidents data set specifically looks at 15 variables. It focuses its location on 11 different states in the American South. The variables include date, time, police presence, etc. 

## 2. Data

```{r analysis}
victims_incidents <- read_csv("../data/victims_incidents.csv")
glimpse(victims_incidents)

```

## 3. Data analysis plan

In a choropleth map with bar chart we are hoping to visualize these variables:

Density of incidents
Date (Year)
Gender
County

In a bar chart we are hoping to visualize these variables:
Perpetrator type
Conviction


We were considering researching laws in different areas, as they may be significant in swaying the outcome to 

The preliminary data analysis shows there are variations in the amount of victims based on gender throughout time. It also shows that there is variation in the number of incidents in each state throughout time. 
```{r graphs}
names(victims_incidents)
dim(victims_incidents)

ggplot(victims_incidents, aes(
  sex))+
  geom_bar()

victims_incidents<-victims_incidents|>
  drop_na(sex)
ggplot(victims_incidents, aes(
  incident_year_range_end, fill=sex))+
  geom_bar()

ggplot(victims_incidents, aes(
  incident_year_range_end, state, fill=state))+
  geom_density_ridges()
```
``` {r mapping}

incident_count <- victims_incidents %>%
  group_by(state) %>%
  summarize(incident_total = n())

# Plotting the incidents by county and state on the map
plot_usmap(data = incident_count, values = "incident_total", include = .south_region, color = "black", exclude = c("OK", "KY", "WV", "MD", "DE", "DC"), labels = TRUE) + 
  scale_fill_continuous(low = "white", high = "red", name = "Incident Count", label = scales::comma) + 
  labs(title = "South Region", subtitle = "Incident Count by County") +
  theme(legend.position = "right")
```
```{r incidents_count_by_state}
victims_incidents %>%
  group_by(state) %>%
  summarise(total_incidents = n()) %>%
  arrange(desc(total_incidents)) %>% 
  print()

```

## 4. Data Ethics Review

The data ethics review section will be introduced in a separate class and is not part of the original proposal deadline.

